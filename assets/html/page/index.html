{{ template "head" . }}
<body>

{{ template "header" . }}

<div class="container-fluid">
    <div class="row">

    {{ template "api_dir" . }}

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" style="background-color: #ffffff;">
        
        <div style="height: 42px;">
            <div class="btn-group btn-group-sm" role="group" aria-label="Basic outlined example" style="margin-top: 8px;margin-bottom: 8px;width: 30%;float:right; ">
                <button type="button" class="btn btn-outline-dark">全局header</button>
                <button type="button" class="btn btn-outline-dark">全局code</button>
                <button type="button" class="btn btn-outline-dark">{{ SVG "folder-plust" 16 16 }}</button>
                <button type="button" class="btn btn-outline-dark">{{ SVG "plus-lg" 16 16 }}</button>
                <button type="button" class="btn btn-outline-dark">{{ SVG "gear-fill" 16 16 }}</button>
            </div>
        </div>

        <div class="box" style="margin-top: 8px;border: 1px solid #D3D3D3; border-radius: 4px;">
            <ul class="nav nav-tabs" style="width: 100%;height:54px;flex-direction: row;flex-wrap: nowrap;overflow-x: scroll;font-size: 11px;">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="#" style="width: 200px;color: aliceblue;background-color: #4c4c4c;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#" style="width: 200px;">[Get] xxxxxxxxxxxx <span style="float: right;cursor: pointer;">{{ SVG "x-square-fill" 16 16 }}</span></a>
                  </li>
              </ul>
              <div id="doc" style="width: 100%; height: calc(100vh - 188px);background-color: #ffffff;overflow: auto;padding: 16px;position: relative;">

                <div class="row">
                    
                    <div class="col-10">
                      <div data-bs-spy="scroll" data-bs-target="#simple-list-example" data-bs-offset="0" data-bs-smooth-scroll="true" class="scrollspy-example" style="height: calc(100vh - 200px);
                        margin-top: .5rem;
                        overflow: auto" tabindex="0">
                        <div style="margin-bottom: 48px;margin-top: 36px;">
                            <h4 id="simple-list-item-1" style="margin-bottom: 16px;">基本信息</h4>
                            <div class="card">
                                <div class="card-body">
                            <ul >
                                <li style="padding: 8px;"><span style="font-size: 16px;">接口名:</span><span style="font-size: 21px;margin-left: 16px;"> asdasdaasdasdsadasdasdas</span></li>
                                <li style="padding: 8px;"><span style="font-size: 16px;">接口Url: </span><span style="font-size: 21px;margin-left: 16px;"><span class="badge rounded-pill text-bg-success" style="margin-right: 8px;">GET</span> asdasdaasdasdsadasdasdas</span></li>
                                <li style="padding: 8px;">操作： <div class="btn-group" role="group" aria-label="Basic outlined example" style="margin-left: 16px;">
                                    <button type="button" class="btn btn-outline-dark" onclick="newAPIDoc()">编辑</button>
                                    <button type="button" class="btn btn-outline-dark">请求</button>
                                    <button type="button" class="btn btn-outline-dark">分享</button>
                                    <button type="button" class="btn btn-outline-dark">Mock</button>
                                  </div></li>
                            </ul>
                            </div>
                            </div>
                        

                        </div>
                        <div style="margin-bottom: 48px;">
                            <h4 id="simple-list-item-2" style="margin-bottom: 36px;">接口说明</h4>

                            <div class="card">
                                <div class="card-body">
                                    <p>This is some placeholder content for the scrollspy page. Note that as you scroll down the page, the appropriate navigation link is highlighted. It's repeated throughout the component example. We keep adding some more example copy here to emphasize the scrolling and highlighting.This is some placeholder content for the scrollspy page. Note that as you scroll down the page, the appropriate navigation link is highlighted. It's repeated throughout the component example. We keep adding some more example copy here to emphasize the scrolling and highlighting.</p>
                                </div>
                            </div>


                        </div>
                        <div style="margin-bottom: 48px;">
                            <h4 id="simple-list-item-3" style="margin-bottom: 36px;">请求Header</h4>
                            <table class="table table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">First</th>
                                    <th scope="col">Last</th>
                                    <th scope="col">Handle</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td>Mark</td>
                                    <td>Otto</td>
                                    <td>@mdo</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td>Jacob</td>
                                    <td>Thornton</td>
                                    <td>@fat</td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td colspan="2">Larry the Bird</td>
                                    <td>@twitter</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>

                        <div style="margin-bottom: 48px;">
                        <h4 id="simple-list-item-4" style="margin-bottom: 36px;">请求参数</h4>
                        <p>请求数据类型: json</p>
                        <p>示例:</p>
                          <textarea style="width: 90%;height: 200px;">{
                                "order_no": "aaaaaa45456",
                                "product_select_list": [
                                    {
                                        "product_id": 1231,
                                        "product_type": 3,
                                        "select_count": 1
                                    }
                                ],
                                "description": "不喜欢这个会议，申请退款"
                            }</textarea>
                            <p>参数说明:</p>      
                          <table class="table table-bordered table-light  table-hover">
                              <thead>
                              <tr>
                                  <th scope="col">#</th>
                                  <th scope="col">First</th>
                                  <th scope="col">Last</th>
                                  <th scope="col">Handle</th>
                              </tr>
                              </thead>
                              <tbody>
                              <tr>
                                  <th scope="row">1</th>
                                  <td>Mark</td>
                                  <td>Otto</td>
                                  <td>@mdo</td>
                              </tr>
                              <tr>
                                  <th scope="row">2</th>
                                  <td>Jacob</td>
                                  <td>Thornton</td>
                                  <td>@fat</td>
                              </tr>
                              <tr>
                                  <th scope="row">3</th>
                                  <td colspan="2">Larry the Bird</td>
                                  <td>@twitter</td>
                              </tr>
                              </tbody>
                          </table>
                        </div>

                        <div style="margin-bottom: 48px;">
                            <h4 id="simple-list-item-5"  style="margin-bottom: 36px;">响应成功</h4>
                            <p>This is some placeholder content for the scrollspy page. Note that as you scroll down the page, the appropriate navigation link is highlighted. It's repeated throughout the component example. We keep adding some more example copy here to emphasize the scrolling and highlighting.</p>
                        </div>

                            <h4 id="simple-list-item-6">Item 5</h4>
                        <p>This is some placeholder content for the scrollspy page. Note that as you scroll down the page, the appropriate navigation link is highlighted. It's repeated throughout the component example. We keep adding some more example copy here to emphasize the scrolling and highlighting.This is some placeholder content for the scrollspy page. Note that as you scroll down the page, the appropriate navigation link is highlighted. It's repeated throughout the component example. We keep adding some more example copy here to emphasize the scrolling and highlighting.</p>
                      </div>
                    </div>

                    <div class="col-2">
                        <div id="simple-list-example" class="d-flex flex-column gap-2 simple-list-example-scrollspy text-center">
                          <a class="p-1 rounded" style="color: #1a1d20;" href="#simple-list-item-1">基本信息</a>
                          <a class="p-1 rounded" style="color: #1a1d20;" href="#simple-list-item-2">接口说明</a>
                          <a class="p-1 rounded" style="color: #1a1d20;" href="#simple-list-item-3">请求Header</a>
                          <a class="p-1 rounded" style="color: #1a1d20;" href="#simple-list-item-4">请求Body</a>
                          <a class="p-1 rounded" style="color: #1a1d20;" href="#simple-list-item-5">响应成功</a>
                          <a class="p-1 rounded" style="color: #1a1d20;" href="#simple-list-item-6">响应失败</a>
                        </div>
                      </div>

                  </div>


              </div>
        </div>


        {{ template "add_project" .}}

<!-- 创建接口文档 Modal -->
<div class="modal fade" id="apiDocModal" tabindex="-1" aria-labelledby="apiDocModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen">
      <div class="modal-content">
        <div class="modal-header bg-dark" style="color: #ffffff;">
          <h1 class="modal-title fs-5" id="apiDocModalLabel">新建接口文档</h1>
          <button class="btn" type="button" data-bs-dismiss="modal" aria-label="Close" style="color: #ffffff;">X</button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
          <button type="button" class="btn btn-primary">保存</button>
        </div>
      </div>
    </div>
  </div>


<!-- 文档排序 Modal -->

<!-- 目录排序 Modal -->




    </main>

    </div>
</div>


</body>
{{ template "pubjs" . }}
<script>
    ;(function( $ ){
        /**
         * Author: https://github.com/Barrior
         *
         * DDSort: drag and drop sorting.
         * @param {Object} options
         *        target[string]: 		可选，jQuery事件委托选择器字符串，默认'li'
         *        cloneStyle[object]: 	可选，设置占位符元素的样式
         *        floatStyle[object]: 	可选，设置拖动元素的样式
         *        down[function]: 		可选，鼠标按下时执行的函数
         *        move[function]: 		可选，鼠标移动时执行的函数
         *        up[function]: 		可选，鼠标抬起时执行的函数
         */
        $.fn.DDSort = function( options ){
            var $doc = $( document ),
                fnEmpty = function(){},

                settings = $.extend( true, {
                    down: fnEmpty,
                    move: fnEmpty,
                    up: fnEmpty,
                    target: 'li',
                    cloneStyle: {
                        'background-color': '#eee'
                    },
                    floatStyle: {
                        //用固定定位可以防止定位父级不是Body的情况的兼容处理，表示不兼容IE6，无妨
                        'position': 'fixed',
                        'box-shadow': '10px 10px 20px 0 #eee',
                        // 'webkitTransform': 'rotate(4deg)',
                        // 'mozTransform': 'rotate(4deg)',
                        // 'msTransform': 'rotate(4deg)',
                        // 'transform': 'rotate(4deg)'
                    }

                }, options );

            return this.each(function(){

                var that = $( this ),
                    height = 'height',
                    width = 'width';

                if( that.css( 'box-sizing' ) == 'border-box' ){
                    height = 'outerHeight';
                    width = 'outerWidth';
                }

                that.on( 'mousedown.DDSort', settings.target, function( e ){
                    //只允许鼠标左键拖动
                    if( e.which != 1 ){
                        return;
                    }

                    //防止表单元素失效
                    var tagName = e.target.tagName.toLowerCase();
                    if( tagName == 'input' || tagName == 'textarea' || tagName == 'select' ){
                        return;
                    }

                    var THIS = this,
                        $this = $( THIS ),
                        offset = $this.offset(),
                        disX = e.pageX - offset.left,
                        disY = e.pageY - offset.top,

                        clone = $this.clone()
                            .css( settings.cloneStyle )
                            .css( 'height', $this[ height ]() )
                            .empty(),

                        hasClone = 1,

                        //缓存计算
                        thisOuterHeight = $this.outerHeight(),
                        thatOuterHeight = that.outerHeight(),

                        //滚动速度
                        upSpeed = thisOuterHeight,
                        downSpeed = thisOuterHeight,
                        maxSpeed = thisOuterHeight * 3;

                    settings.down.call( THIS );

                    $doc.on( 'mousemove.DDSort', function( e ){
                        if( hasClone ){
                            $this.before( clone )
                                .css( 'width', $this[ width ]() )
                                .css( settings.floatStyle )
                                .appendTo( $this.parent() );

                            hasClone = 0;
                        }

                        var left = e.pageX - disX,
                            top = e.pageY - disY,

                            prev = clone.prev(),
                            next = clone.next().not( $this );

                        $this.css({
                            left: left,
                            top: top
                        });

                        //向上排序
                        if( prev.length && top < prev.offset().top + prev.outerHeight()/2 ){

                            clone.after( prev );

                            //向下排序
                        }else if( next.length && top + thisOuterHeight > next.offset().top + next.outerHeight()/2 ){

                            clone.before( next );

                        }

                        /**
                         * 处理滚动条
                         * that是带着滚动条的元素，这里默认以为that元素是这样的元素（正常情况就是这样），如果使用者事件委托的元素不是这样的元素，那么需要提供接口出来
                         */
                        var thatScrollTop = that.scrollTop(),
                            thatOffsetTop = that.offset().top,
                            scrollVal;

                        //向上滚动
                        if( top < thatOffsetTop ){

                            downSpeed = thisOuterHeight;
                            upSpeed = ++upSpeed > maxSpeed ? maxSpeed : upSpeed;
                            scrollVal = thatScrollTop - upSpeed;

                            //向下滚动
                        }else if( top + thisOuterHeight - thatOffsetTop > thatOuterHeight ){

                            upSpeed = thisOuterHeight;
                            downSpeed = ++downSpeed > maxSpeed ? maxSpeed : downSpeed;
                            scrollVal = thatScrollTop + downSpeed;
                        }

                        that.scrollTop( scrollVal );

                        settings.move.call( THIS );

                    })
                        .on( 'mouseup.DDSort', function(){

                            $doc.off( 'mousemove.DDSort mouseup.DDSort' );

                            //click的时候也会触发mouseup事件，加上判断阻止这种情况
                            if( !hasClone ){
                                clone.before( $this.removeAttr( 'style' ) ).remove();
                                settings.up.call( THIS );
                            }
                        });

                    return false;
                });
            });
        };

    })( jQuery );

</script>

<script>

    $(document).ready(function(){

        var tooltipTriggerList = Array.prototype.slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })

        $('.hover-area').mouseenter(function(){
            //$('.action-btn').fadeIn();
            $(this).find('.action-btn').show();
            $(this).css({
                'height':'72px',
            })
        }).mouseleave(function(){
            $(this).find('.action-btn').hide();
            //$('.action-btn').fadeOut();
            $(this).css({
                'height':'38px',
            })
        });

        $('.dir').mouseenter(function(){
            $(this).find('.dirop').show();
            $(this).css({
                'height':'72px',
            })
        }).mouseleave(function() {
            $(this).find('.dirop').hide();
            $(this).css({
                'height':'42px',
            })
        });
    });



    // $( '#wrap' ).DDSort({
    //     target: 'li',		//示例而用，默认即'li'
    //     floatStyle: {
    //         'border': '1px solid #ccc',
    //         'background-color': '#ddd'
    //     }
    // });

    $('#newSort').click(function(){
        var ulValue = $( '#wrap' ).children();
        console.log(ulValue)
        for (var i=0; i<ulValue.length; i++) {
            var liValue = ulValue[i].children
            console.log(liValue)
            for(var j=0; j<liValue.length;j++) {
                console.log(liValue[j])
            }
        }
    });

    $('.dir-open').click(function (){
        var open = $(this).attr('data-open');
        var dirid = $(this).attr('data-dirid');
        console.log($(this).find('span'))
        $(this).find('span').empty();
        if (open == 0) {
            $(this).find('span').append('{{ SVG "folder2-open" 21 21 }}');
            $(this).attr('data-open', '1');
            $('#'+dirid).show();
        } else {
            $(this).find('span').append('{{ SVG "folder" 21 21 }}');
            $(this).attr('data-open', '0');
            $('#'+dirid).hide();
        }
    });

</script>


{{ template "end" . }}